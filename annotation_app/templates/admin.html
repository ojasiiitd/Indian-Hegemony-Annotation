{% extends "layout/base.html" %}

{% block content %}

<h1 class="title">Admin â€“ Manage Annotations</h1>
<p class="subtitle">
Select records to delete. This will update both JSONL and Google Sheets.
</p>

<form method="POST" action="{{ url_for('admin_delete') }}">

  <table class="table is-fullwidth is-striped">
    <thead>
      <tr>
        <th>Delete</th>
        <th>ID</th>
        <th>State</th>
        <th>Prompt</th>
      </tr>
    </thead>
    <tbody>
      {% for r in records %}
      <tr>
        <td>
          <input type="checkbox" name="delete_ids" value="{{ r.id }}">
        </td>
        <td>{{ r.id }}</td>
        <td>{{ r.state }}</td>
        <td>{{ r.prompts.base }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="field has-text-right">
    <button class="button is-danger is-medium"
            type="submit"
            onclick="return confirm('Delete selected records? This cannot be undone.');">
      Delete Selected & Sync Sheet
    </button>
  </div>

</form>

{% endblock %}